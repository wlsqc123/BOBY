정내훈 : nhjung@kpu.ac.kr
 010-8964-9524


2020-09-09 (오후 3시 30분)
------------
1. 원희재, 진재혁, 
주형탁, 오후 3:54
juht97@naver.com, 010-4035-4817

원휘재, 오후 3:55
id8440540@naver.com, 010-6431-4396


진재혁, 오후 3:55
wlsqc@kpu.ac.kr, 010-3339-4036

2. 임시 팀이름 : 태풍바비

3. 게임엔진 : DirectX사용 예정
 - 3D게임프로그래밍 1 수강완료, 3D게임프로그래밍 2 수강 중
 - FBX모델 띄우는 것은 했고, 3D Max에서 제작한 모델을 텍스쳐까지 화면에 표시가능
 - 진재혁 : 넷겜플

4. 중점연구분야? 
 - 고민 중

5. 기획서 작성
 - 따로 기획과목을 듣지는 않았고, 1학년 때 게임학 기초를 들은 것이 전부
 - 캐릭터 : 판타지 FPS, StremPunk인데 레이저를 넣을 계획
 - 콘트롤 : Overwatch와 거의 같은 컨트롤 (협동으로 몬스터 잡기 : 해골, 박쥐)
 - 카메라 : 1인칭 (서든어택)
 - 그래픽 리소스는 구매 예정
 
6. 로그라이크 3D FPS (Gunfire Reborn과 비슷)
 - Gunfire Reborn과의 차별점????

7. 다음미팅
 - 9월 23일 수요일 오후 4시 30분
 - Gunfire Reborn과의 차별점 정해 오기

2020-09-23 
------------
1. 원휘재, 주형탁

2. 로그라이크 3D FPS (Gunfire Reborn과 비슷)
 - 차별점????
 - 퍼즐 추가??? => 지금까지 이런 것이 없던 이유는 난이도가 너무 높아져서(주형탁), 전생을 하다보면 같은 퍼즐을 계속 풀게 되어 지루해짐 (원휘재)
  => 퍼즐대신 퀘스트로 대체하는것?
 - 차별점을 고민해 보든 것은 좋은데, 굳이 차별점이 없어도 된다.(팀원 중에 기획 포트폴리오가 필요한 사람이 없다면)
 
3. 역할 
 - 원휘재, 주형탁 : 클라이언트
 - 진재혁 : 서버

4. 기획
 - 캐릭터 Visual : 구할 수 있는 Resource에 맞출 계획
 - 아이템 (무기, 소모품)
 - 캐릭터 스킬 트리,
 - 몬스터 : 공격 패턴, 스킬
 - 맵구성 : 그림판으로 그려 보기 (플레이어의 동선을 표시, 출발장소와 골인장소, 몬스터 배치)

5. 구현
 - 서버 : 넷겜플 수강중 (진도 :  소켓생성, Endian까지)
 - 클라이언트 : 현재 Max제작 모델을 화면에 띄우는 것 까지 구현
  * 구현된 것을 GIT에 올려 놓을 것 (MAX로 만든 모델을 화면에 띄우기)
  * WASD로 이동하는 것 까지 구현해 볼것 (애니메이션 X, 바닥이 있어야 하고, 정육면체 장애물이 몇개 정도 있고, 충돌처리 X)

5. 모든 졸업작품 관련 리소스/파일들은 전부 GIT에 올려서 관리해야 한다.
 - 작성중인 기획서 업로드 (챕터별로 분할해서 업로드, 분할 하지 않으면 GIT에서 충돌이 일어나기 쉽다.)

6. ToDo
 - GIT하나 만들고 지도교수를 초대 (zzapuno@hotmail.com)

7. 다음미팅 10월 14일 수요일 오후 3:30 
  - GIT 만들고 지도교수 초대
 - 기획 : 아이템, 스킬트리, 몬스터, 맵구성  => GIT에 올리기
 - 클라이언트 구현해서 GIT에 올리기

2020-10-14 
------------
1. 출석 : 주형탁, 진재혁(지각)
   (원희재 : 소프트웨어 경진대회)

2. 진행상황
 - GIT 초대 완료 : https://github.com/dnjsgnlwo/BOBY
 - 클라이언트 제작 : 1인칭 3인칭 구현, HeightMap/SkyBox 구현, 텍스쳐큐브 생성, WSDF이동
 - 기획파일을 GIT에 SUBMIT하지 않음.
   * 직업 : 따로 없고, 아이템 장비에 따라 스킬이 달라짐
   * 아이템 : 액티브 (로켓런처, 유탄발사, ??? )
                패시브 (이속증가, 공속증가, 체력증가, STAT증가, 흡혈)
   * STAT : HP, 이속, 공속, 공격력
   
 
3. 다음미팅 
 - 10월 28일 수요일 오후 3시 30분
 - 클라이언트 : MAX 모델을 export해서 Client에 띄우기
 - 서버 : 수업진도 (파일 전송 까지, 텀프로젝트 팀구성 및 기획을 곧 할 예정인데, 졸작을 사용하면 될듯)
       - 다중 접속, 몬스터, 원격 무기
 - 기획 : 아이템(액티브, 패시브), 몬스터, 맵구성 업로드
      - 맵 기믹 : 용암발판 레버, 돌이 굴러와요, 횃불이 자꾸 꺼져요.
      - 보스 몬스터 패턴

2020-10-28
------------
1. 출석 : 주형탁, 진재혁, 원휘재

2. 기획 :
  * item : 무한에다가 중복이 가능한 정신나간 기획 -> 이래야 재미있지.
  * 몬스터 : 뻔한 기획
  
3. 구현
 - 진행사항 없음
  * 3D 게임프로그래밍에서 아직 FBX import를 배우지 않음.

4. 다음 미팅
 - 11월 11일 수요일 오후 3시 30분 
 - 클라이언트 : lighting 추가.  (ambient, diffuse, specular)
      궁수방 구현 (벽, 바닥, 천장, 출입문, 해골궁수(회색 원기둥)), 궁수방을 4X4 (문을 통과하면 옆의 궁수방에 들어가도록)
 - 서버 : 소켓프로그래밍으로 구현 (클라이언트에서의 키보드 입력을 서버에 전달하면 서버에서, Avatar의 위치와 방향을 수정해서 클라이언트에 전송)
 - 기획 : 맵 기믹 : 용암발판 레버, 돌이 굴러와요, 횃불이 자꾸 꺼져요.
           보스 몬스터 패턴

2020-11-11
------------
1. Client
 - 미로 구현
 - Visual 개선 필요
 * 카메라 높이 변경
 * 이동 속도 변경
 * 텍스쳐 크기 개선 : 실제 벽돌과 비슷한 크기로 보이도록
 * 반복 텍스쳐 개선 : 여러개의 텍스쳐를 랜덤하게 조합하도록
 - Lighting 추가 필요 : 현재 버그 수정 중

2. 서버
 - GIT에 올라오지 않음.
 - TCPClient/TCPServer 올림
 - 실시간 위치 전송이 되도록 수정하였음.

3. 몬스터 구현
 - 100% 서버 책임
 - 서버에서 몬스터의 ADD_OBJECT, ID, Type, X, Y, Z 를 클라이언트에 주면 클라언트는 (x,Y,Z)위치에 Type에 해당하는 폴리곤덩어리를 그린다.
 - 서버에서 MOVE_OBJECT, ID, X,Y,Z를 클라이언트에 주면 ID에 해당하는 폴리곤덩어리의 위치를 (X,Y,Z)로 이동
 - 서버에서 DELETE_OBJECT, ID를 보내면 ID에 해당하는 폴리곤 덩어리를 삭제
 - 서베에서 ANIM_OBJECT, ID, ANIM_ID를 보내면 ANIM_ID에 해당하는 애니메이션을 ID에 해당하는 폴리곤에 적용.

4. 기획
 - 진전이 없음

5. 다음 미팅
 - 기획 : 맵 기믹 : 용암발판 레버, 돌이 굴러와요, 횃불이 자꾸 꺼져요.
           보스 몬스터 패턴
 - 클라이언트 : 라이팅 추가
  * FBX모델 출력을 위해서는 https://www.autodesk.com/products/fbx/overview 에 있는 샘플 프로그램을 다운받아서 돌려보고,
     코드를 Copy해서 사용해 보도록
 - 서버 : 클라이언트와 연동
 - 11월 25일 수요일 오후 3시 30분

2020-11-25
------------
1. 참석 : 원휘재, 진재혁

2. 클라이언트 : 라이팅 추가, 눈에 띄는 반복 패턴 제거, 스포트라이트 추가.
 - FBX 모델 import는 어려움.

3. 서버 : 진전이 없음?
 - 캐릭터가 보는 방향이 바뀌면 그것을 서버에 보내야 한다.
 - 게임패킷을 제대로 처리하고 있는가?
 - GIT에 왜 올리지 않는가????

4. 고민사항
 - 중점 연구 과제를 무엇으로 할 것인가??

5. 기획
 - 커밋을 안함.

6. 다음 미팅
 - 기획 : 맵 기믹 : 용암발판 레버, 돌이 굴러와요, 횃불이 자꾸 꺼져요.
           보스 몬스터 패턴
    * 추가 기획을 더 해오도록.
 - 클라이언트 : FBX import, 용암.
 - 서버 : 클라이언트와 연동.
 - 12월 9일 수요일 오후 3시 30분

2020-12-09
-------------
1. 참석 : 원휘재, 주형탁

2. 기획 : PPT 
 - 12월 14일 월요일 오후에 와서 사인을 받고 제출 (오후 2시 - 오후 5시 30분)

3. 클라이언트
 - 다른 PC에서 실행이 안됨. 수정 필요
 - 벽노말 매핑
 - FBX 모델 로딩.

4. 서버
 - 클라이언트 연동이 안됨.
 - 이동계산을 어떻게 해애 할지 모르겠다...
    (X, Y), TH  =>   X = X + COS(TH) * 속도 ,  Y = Y + SIN(TH) * 속도
 - 1초에 20번 클라이언트에 캐릭터 좌표를 보내기

4.5 서버 구현
   while(true) {
     if ( data from client) {
        Object 상태 변경;                    // 정지, 이동, 방향 변경
     }
     for (auto &object : object_list) {
             object->update();              // 좌표 변경. 이동 상태면 x,y좌표 변경
     }
     send_client(모든 객체의 위치, 방향);
     this_thread::sleep_for(1/20s);       // 1초에 20회 루프가 돌도록 시간 조절
  }


5. 다음 미팅
 - 12월 23일 오후 3시 30분
 - 서버/클라이언트 연동
 - 클라이언트 GIT을 통해서 실행
 - 서버가 클라이언트로 보내는 데이터 포맷 정의 (클라이언트가 받았을 떄 해석이 되어야 함)
 - 클라이언트가 서버에 보내는 데이터 포맷 정의 (서버가 받았을 때 해석이 되어야 함)
 - 기획 문서 작성 : 발표 PPT가 아니고 게임제작 때 참조할 문서 (결정된 모든 사항을 기록)
      맵 기믹 : 용암발판 레버, 돌이 굴러와요, 횃불이 자꾸 꺼져요.
           보스 몬스터 패턴
    * 추가 기획을 더 해오도록.

2021-01-06
-------------
1. 설계 기획 심사 통과 
 - 리소스 수집할 때 힘들 수도 있겠다.

2. 중간 발표 (5월 중순) 이전까지 게임 핵심 구현 사항을 구현.

3. 클라이언트 
 - 잘 실행 됨
 - 모델 로딩 오류 수정
 - 현재 애니메이션을 위한 프레임워크 수정 중

4. 서버
 - 잘 실행됨
 - 메인 브랜치에 머지 필요.

5. 기획서
 - 정리함 : 총을 쏘는 방법?
 - 맵이 너무 작음

6. Dead Reckoning
 - https://www.gamasutra.com/view/feature/131638/dead_reckoning_latency_hiding_for_.php
 - https://www.gdcvault.com/play/1024001/-Overwatch-Gameplay-Architecture-and

6.5 서버 구현 카메라와 이동
   while(true) {
     get_data_from_client()) 
     Object 상태 변경;                    // 정지, 이동, 방향 변경, NPC 포함
     
     for (auto &object : object_list) {
             object->update();              // 좌표 변경. 이동 상태면 x,y좌표 변경
     }
     send_client(모든 객체의 위치, 방향);
     this_thread::sleep_for(1/20s);       // 1초에 20회 루프가 돌도록 시간 조절
  }

void get_data_from_client()
{
  for (auto &cl : clients) {
     size = recv(cl.sotcket, buff, 1024);
     if (0 == size) continue;
     while (buff.size() > 0)
        {
          packet = buff.get_packet();
          switch (packet.get_type()) {
              case MOVE_PACKET : cl.move_character(packet.get_direction()); break;
              case ROTATE_PACKET : cl.rotate_character(packet.get_direction()); break;
              case SHOOT_PACKET : cl.fire_arms(); break;
          } 
       }
    }
}

7. 다음 미팅
 - 1월 20일 수요일 오후 3시 30분
 - 브랜치들 머지하기
 - 클라이언트 
  * 카메라가 돌아가는 것 금지하기 (수평선이 기울어지는 것)
  * 애니메이션  : 되는데 까지 해보기
  * 그림자 : 되는데 까지 해보기
 - 서버
  * 2명이 같은 방에서 움직이기
   - 클라이언트에서도 다른 플레이어가 보이도록 수정을 해야 함.

2021-01-21
-------------
1. 클라이언트 진행 상황
 - 카메라 기울어지는 것 없앰
 - 애니메이션 진행 중 
  * 이용희 교수님 예제를 보고 적용하는 중
  * 문제는 지금 가지고 있는 모델들이 뼈대가 없어서 만들어 주어야 함.
    => 뼈대가 있는 모델만 구해서 사용해야 함.
 - 일단 애니메이션이 되게 하는 것을 우선적으로 구현해야 함. (성능은 나중)

2. 서버 진행 상황
 - 하나의 서버의 여러개의 클라이언트가 접속 가능
  * 상대방이 보이지 않음
  * 모델이 없어도 원통으로 보여주게 할 것.

3. 다음 미팅
 - 애니메이션이 될것 
 - 다증 접속
  * 다른 플레이어도 보이게 하기 (모델이 없으면 원통이라도 보이게 할 것)
 - NPC표시
  * 정해진 위치에서 왔다 갔다 하는 NPC
  * 서버에서 NPC의 위치를 계속 클라이언트에 알려 준다.
 - 서버
  * NPC 관리 (AI)
  * 메인루프는 1초에 20번 (1/20초 마다 실행)
 - 2월 4일 목요일 오후 3시 30분
 - 작업 일지 작성
   * 매주 작성, 모든 팀원이 한 작업을 모아서 하나의 파일에 작성.


2021-02-04
------------
0. 출석 
  - 원휘재, 주형탁
1. 진행상황
 - 애니메이션 : 진행 중
  * 애니메이션 Loading까지는 구현했는데 실제 적용하는 부분을 미구현
  * assimp라이브러리 사용 중
 - 서버
  * 2인 플레이 동기화
   - 이동은 되는데 회전이 반영이 안됨
   - 2인 플레이만 되고, 1인 플레이가 안되고 3인 플레이도 안됨.
 - 현재 서버의 구현이 Delay되고 있음. 뒤처진 것을 만회 해야 함.

3. 다음 미팅
 - 애니메이션이 될것
  * IDLE 애니메이션
  * 이동 애니메이션
 - 서버
  * 버그 수정 
   - 회전이 반영이 안되는 문제
   - 움직이기 전에는 상대방에게 보이지 않는 문제
   - 1인 플레이가 시작 안되는 문제
   - 플레이 중 한명이 나가도 화면에서 사라지지 않는 문제
  * 4명 까지 플레이 되도록 수정
  * 랙이 심한데 줄일 것. (서버에서 매 프레임마다 printf하는 것 없애기)
 - 비쥬얼
  * SpotLight shadow 구현
 - 2월 18일 목요일 오후 3시 30분

2021-02-18
------------
1. 진행상황
 - 애니메이션 
 * 애니메이션을 적용하면 화면상에 모델이 출력되지 않는다.
 * 디버깅이 필요
 - 비쥬얼
 * SpotLight Shadow
 * 그림자 문제 : 일부 방에서 그림자가 진 부분이 더 밝게 보이는 오류
                    광원을 등진 벽이 밝게 보이는 오류가 있다.

2. 서버
 - 플레이어 동기화가 자연스러워 짐
 - 4명까지 동기화
 - 회전 구현

3. 다음 미팅
 - 애니메이션
  * 디버깅 할 것
 - 비주얼
  * 비현실적인 그림자/조명 수정하기
 - 서버
  * NPC 컨트롤 (NPC 생성 및 이동)
 - 3월 4일 목요일 오전 11시 30분

2021-03-04
-------------
1. 진행상황
 - Animation 구현 : 플레이어 1인칭 손, 마그마 몬스터
 - NPC 컨트롤을 서버에서 구현

2. 버그
 - Lighting 문제 : 빛을 받는 반대편의 더 밝아 보임, 그림자가 드리워진 곳이 더 밝아 보이는 곳이 있음.
 - 나중에 접속한 플레이어 에게는 새로 접속한 플레이어가 보이지 않음. (가끔 material 참조 하다가 Crash)

3. 다음 미팅
 - 충돌 처리 : 장애물의 OBB(벽 같은것)를 서버에 로딩한후, 이동시 충돌 검사, 몬스터나 플레이어는 실린더나 캡슐로 만들어서 충돌 처리
 - 총 쏘기 : 몬스터마다 HP가 있다(MAX 10). 총을 쏘면 총알이 날라간다(사람눈에 보이지 않으므로, 총구화염과, 벽에 충돌 불꽃/먼지로만 표현). 십자선 표시, 몬스터가 총을 맞으면 HP가 1씩 깎인다.
        몬스터가 총을 맞으면 맞은 위치에 피가 튀기. HP가 0인 몬스터는 사라진다. 사라진 몬스터는 10초후 FULL HP로 재생한다. HP 바 표시
 - 그래픽 오류 개선 (그림자, Lighting)
 - 3월 18일 목요일 11:30분

2021-03-18
------------
1. 진행상황
 - 충돌처리 : 플레이어/NPC OBB, 현재 벽을 뚫고 지나감
 - 총쏘기 : 클라이언트에서만 구현, 발사 이펙트, 명중 검사
 - 애니메이션 진행상황은 없음
 - 몬스터와 플레이어의 충돌 처리

2. 다음미팅
 - 벽 충돌검사
  * 서버에서 해야 한다.
  * (맵이 수정될 때 마다) 클라이언트에서 벽 OBB를 뽑아서 파일에 저장 -> 서버는 처음 시작할 때 파일을 읽어서 OBB정보를 메모리에 저장하고 게임 시작
 - 총쏘기 서버 구현
  * 클라이언트에서 총을 쏘면 (발사, 발사 방향을 서버에 전달) -> 서버에서는 명중검사 -> 데미지를 클라이언트에 전달.
  * 몬스터 피튀기기, 벽에 파편 Effect, 몬스터 HP바
 - 애니메이션
  * 몬스터 이동 애니메이션 (자연스러운 연결)
  * 피격애니메이션
 - 3월 31일 수요일 오후 2시 30분

2021-03-31
------------
1. 애니메이션
 - 피격 애니메이션 추가 (마그마 몬스터 사망 애니)

2. 현재 문제
 - 3D 모델의 특정 부분이 애니메이션에서 깨지는 문제 발생
  => 원인과 해결책을 찾고 있음.

3. 클라이언트
 - HP바 표시
 - 사격 기능 : 벽과 몬스터에 이펙트 붙이기, 피격 이펙트 개선
 - HP바 감소 기능 (클라이언트에서 만)
 - 조작성 향상

4. 중점 연구 분야 정리
 - 데드레커닝 : 빼야 되지 않을까?
  * 대신? => 한달 반 남았는데 고민해 볼것. (정 할 것 없으면 동접 5000)
 - 후처리 
  * 안개
  * SSAO(https://stg1994.tistory.com/261)
  * 그림자??
 - 애니메이션 블렌딩
  * 구현 중 (피격 모션 + 이동 부터 구현 예정 => 피격시 발의 위치가 갑자기 바뀌는 일이 없을 예정)

4. 서버 구현
 - 벽 OBB => 최적화 작업 중 =======================================================> 나중에 할 것 다른 것 구현이 먼저!!!!!!!!

5. 다음 미팅
 - 총쏘기 서버 구현
  * 클라이언트에서 총을 쏘면 (발사, 발사 방향을 서버에 전달) -> 서버에서는 명중검사 -> 데미지를 클라이언트에 전달.
  * 몬스터 피튀기기, 벽에 파편 Effect, 몬스터 HP바, 피격 애니메이션  연동 => (서버에서 사격, 피격 이벤트 정보를 클라이언트에 알려서 표시하게 해야 한다.)
  * 총 반동애니메이션.

 - 실제 사용될 맵 제작
 * 10개 방으로 이루어진 기획서의 맵
 * 그냥 네모 방만 있으면 너무 썰렁하므로 좀 그럴듯하게 보이도록 치장 필요
 - 몬스터 업그레이드
  * 애니메이션 구현 (이동, 피격, 사망, 공격)  <====  서버에서 상태 변경 패킷을 넘겨주면 상태에 맞춰서 애니메이션 표현
  * 몬스터 사망 및 10초 후 부활
  * 제대로 된 위치에서 생성, 이동도 정해진 영역에서 이동, 벽뚫기 이동 금지  (추후에는 A* 길찾기가 추가될 예정)
  * (다음에 구현 예정) 몬스터의 반격/공격
 -  4월 14일 오후 2:30분

2021-04-14
-------------
1. 중간발표 날짜 : 5월 17일

2. 진행상황
 - 서버 : 벽충돌, 총쏘기,  피격 판정  => 구현했다고 하고 있는데 GIT에 Push가 되지 않음.

 - 후처리 : 
  * 그림자 : Spot Light추가,  SSAO 미완성

3. 다음 미팅  (동작이 되는 코드는 병합할 것)
 - 4월 28일 수요일 2월 30일.
 - 게임 플레이 : 서버연동 (전투, - 사격, 피격, 사망,  옆 컴퓨터에서도 다 보이기)
 - 중점연구 : Spot Light, SSAO
 - Animation Blending
 - 작업일지 작성해서 올리기.
 - NPC가 똑독해져야 -> 벾뚫기 금지, 몬스터 별 다른 행동 패턴, 총맞으면 반격, 일정거리내에 들어오면 공격
  * 몽둥이든 거인 -> 삭제
  * 마그마 -> 원거리 공격 (파이어볼) => 사정거리까지 다가온 다음 멈춰서 파이어볼,
  * 근거리 몬스터 -> 근거리 공격 => 붙어서 공격
 - 맵제작 
 - 시간이 나는 사람이 아이템 구현해 볼것. (상자 열기로 습득, 아이템 소지 확인 UI, 아이템 사용 <= 서버 연동)

2021-04-28
-------------
1. 진행 상황
 - 서버 : 벽충돌, 총쏘기,  피격 판정  => 구현
 - 전투 (몬스터는 불사), 클라이언트에 사망여부를 알려주지 않음.
 - 아직 블렌딩 구현은 되어 있지 않음.
 - NPC가 똑독해져야 -> 벾뚫기 금지,  총맞으면 쫒아와서 멀뚱멀뚱
 - 맵 업데이트

2. ToDo
 - 작업일지 작성
 - 전투 : 몬스터 공격, 사망 처리, 피격 애니메이션
 - 애니메이션 : 플레이어 애니메이션, 피격/사망 애니메이션, 이동 애니메이션, 공격애니메이션
 - 몬스터 정의 & 비주얼 & 행동 패턴
  - 마그마 몬스터
  - 보스 골렘
 -  아이템 상자
 - 맵 업데이트
  * 맵정보 서버 구현
  * 정상적인 비쥬얼 표현

3. 스케줄
 ~5월 3일 : 전투 (몬스터 공격,  몬스터 사망, 플레이어 사망),  맵 완성 (구멍을 다 메우기), 서버에 맵 데이터 전달, 보스 골렘(애니메이션까지 완성)
 ~5월 10일 : 발표준비 (PPT작성), 애니메이션 완성, 애니메이션 블렌딩, 아이템 상자(체력회복), 플레이어 체력바, 사운드 (BGM, 총소리, 죽는소리, 발자국소리)
 ~5월 17일 : 맵 업데이트, 시연 준비, 데모를 위한 치트키, 디버깅, 맵 비주얼 업데이트

4. 다음미팅 
 - 5월 12일 수요일 2시 30분

5. 몬스터 AI
 - 몬스터마다 상태를 정의하고 상태별로 행동을 한다.
   - 상태 : IDLE, CHASE, BATTLE, RETURN, DIE
   - IDLE : 이동 쿨타임이 지났으면 어슬렁 어슬렁 이동 (
      * HP가 0이되면 DIE로 간다
      * 공격을 받으면 CHASE상태로 간다
   - CHASE : 이동 쿨타임이 지났으으면 목표 플레이어 위치로 1m 이동 
      * 목표가 죽으면 IDLE
      * 목표와의 거리가 1m 이내이면 BATTLE모드로
   - BATTLE : 공격 쿨타임이 되었으면 플레이어 공격
      * 목표가 죽으면 IDLE
   - RETURN : 원래 위치로 복귀
   - DIE : Respawn Time이 될때 까지 아무것도 안함
 
 - AI_LOOP()
      {
        set <ID> target_set;

        auto cur_time = system_clock::now();
        switch(STATE) {
             case BATTLE :
                  if (target_set.empty()) state = RETURN; break;
                  if (curr_target->HP <= 0) {
                     curr_target->die();
                      if (target_set.empty()) state = RETURN; break;
                     else curr_target->begin();
                  }
                  if (this->HP < 0) state = DIE; break;
                  if (cur_time > (last_attack_time + ATTACK_COOL_TIME) {
                      send_attack_packet();
                      target->get_damage(100);
                      last_attack_time = cur_time;
                  }
                  break;
        }
     }


2021-05-12
-------------
1. 스케줄
 ~5월 3일 : 전투 (몬스터 공격,  몬스터 사망, 플레이어 사망),  맵 완성 (구멍을 다 메우기), 서버에 맵 데이터 전달, 보스 골렘(애니메이션까지 완성)
 ~5월 10일 : 발표준비 (PPT작성), 애니메이션 완성, 애니메이션 블렌딩, 아이템 상자(체력회복), 플레이어 체력바, 사운드 (BGM, 총소리, 죽는소리, 발자국소리)
 ~5월 17일 : 맵 업데이트, 시연 준비, 데모를 위한 치트키, 디버깅, 맵 비주얼 업데이트

2. 진행 상황
 - 전투 : 몬스터 공격
 - 플레이어 HP 표시
 - 맵 업데이트 : 구멍 메우기, 용암 움직이기 표현
 - 서버에서 맵 충돌 검사
 - 보스 골렘

3. 못한 것
 - 애니메이션 (골렘의 모든 애니메이션)
 - 전투 : 몬스터 사망,   몬스터의 HP바가 묻히는 버그
 - 체력회복 아이템
 - 맵 버그와 미완성 (현재 맵은 게임플레이 맵이 아니라 단순한 테스트용 맵임)
 - 사운드

4. 해야 하는 것
 - 원휘재 : 사운드, 벽에서는 피가 아니라 돌조각이 튐, 몬스터 HP 묻히는 것 수정, 골렘과 바위에 그림자가 생기지 않는 버그, 
 - 주형탁 : 애니메이션 (골렘애니메이션/몬스터 사망/총기 장전 애니메이션) , 작업일지
 - 진재혁 : 맵 완성 (단순한 네모가 아니라, 던전 느낌이 나도록, 경사 표현을 자연스럽게,  몬스터 배치도 그럴듯 하게), 플레이어 사망 (게임오버 화면이 나오고, 재시작 버튼 표현), 작업일지

5. 다음 미팅
 - 5월 19일 수요일 오후 2시 30분

2021-05-19
-------------
1. 중간 심사 => 통과
 - 지적사항 : Animation 깨지는 문제
 - 게임 컨텐츠의 완성도

2. 작업일지 => 작성 할 것

3. 진행상황
 - 맵을 깔끔하게 다듬음, 몬스터 배치도 제대로 함.
 - 그림자 버그 수정
 - 전투 (몬스터 공격,  몬스터 사망, 플레이어 사망),  맵 완성 (구멍을 다 메우기), 서버에 맵 데이터 전달, 보스 골렘(애니메이션까지 완성)
 - 아이템 상자/열기, 사운드
 - 어색한 애니메이션들 개선
 - 보스 몬스터 구현

4. 남은작업
 - 애니메이션
  * 일부 버텍스가 깨지는 현상
  * [메인 작업] 블렌딩
  * 이동시 미끌어지는 현상
  * 로딩 딜레이
 - 게임 컨텐츠
  * 회복 아이템을 비롯한 여러 아이템 (회복 포션, 탄장)
  * 시작시 선택할 수 있는 캐릭터
  * 탄창 갈이 애니메이션 
  * 맵 개선 및 추가
  * [메인 작업] 함정 및 맵 기믹
 - 서버
  * 로비 서버
  * [옵션] Data Base연동 (사용자 별 전적관리)
  * [메인 작업] IOCP 전환
  * 길 찾기
  * 아이템 사용
  * 몬스터 공격 패턴 (원거리 몬스터, 보스 공격 패턴)
 -비쥬얼 개선
 * [옵션] Post Processing, Decal, 리얼한 용암, 

5. 다음 미팅
 - 6월 2일 수요일 오후 2시 30분
 - 애니메이션 버그 수정, 탄창 갈이, 블렌딩 구현 시작
 - IOCP 전환
 - 아이템 구현 (회복 포션, 탄창)
 - 작업일지 작성

2021-06-02
------------
1.  진행상황
 - 애니메이션 버그 : 일부 수정
  * 보스 애니메이션 수정, 손가락 애니메이션 개선
  * 마그마 애니메이션 개선 중
 - IOCP전환
  * 계속 진행 중
 - 아이템 구현.

2. 현재 클라이언트의 실행이 안됨.

3. 다음 미팅
 - 애니메이션 버그 수정
 - IOCP전환
 - 아이템 구현 : 서버 구현 (
  * 상자 열기 -> 서버에 상자 오픈 패킷 -> 서버에서 플레이어별 아이템 생성 => 서버에서 아이템 생성 패킷 전송
  * 아이템 클릭 -> 서버에 아이템 습득 패킷 -> 서버에서 아이템 제거 패킷 -> 서버에서 인벤트리에 아이템 추가 패킷 전송
  * 인벤토리 아이템 클릭(핫키) -> 서버에 아이템 사용 패킷 -> 서버에서 아이템 효과 구현 -> 서버에서 인벤토리에 아이템 제거 패킷 전송
 - 6월 23일 수요일 오후 2시 30분

2021-06-30
------------
1. 진행상황
 - 애니메이션 버그 수정 (플레이어 손, 마그마 몬스터도 거의 다 고침)
 - 아이템의 클라언트 구현. (인벤토리)
 - 맵 업그레이드 (문 추가,  레버 추가 // 현재 클라에서만.  )

 - 애니메이션 블렌딩 구현을 시작함.
 - 애니메이션 로딩 시간 단축 시도 중.

 - IOCP 전환
 * 지금 1초에 30번 보내고 있다.
    => 이벤트가 발생했을 때마다 보내도록 변경하고자 한다,.
      => 왜?????  FPS게임은 1초에 30번 보내는게 기본인데??????
        => 이벤트마다 보내는 게임은 한방에 플레이어가 많은 관계로 네트워크 대역폭을 절약하기 위해서 정확성과 반응성을 희생하고 이벤트 단위로 보내는 것인데!!!!

2. 앞으로의 스케줄
 * 남아 있는 큰 작업들 : 로비구현, 여러종류의 무기 구현, 몬스터 한종류 추가, 스테이지 구성 업데이트 (좀더 맵을 키우고, 경로를 좀 덜 단순하게)
    패시브 아이템 서버 구현, 액티브 아이템 구현,  동접 측정용 테스트 클라이언트, 애니메이션 블렌딩
  - 7월 5일 까지  : (서버)  IOCP 전환, 패시브 아이템 서버 구현 (인벤토리,  아이템효과) 아이템 상자 열기
                       (클라) 애니메이션 버그 수정 (현재 공격 애니메이션이 안보임)
                       (클라) 사망시 "YOU DIED"메세지 출력, 부활시까지의 카운터 표시<카운터가 중요한 것이 아니라, 게임이 먹통되서 아무반응도 하지 않는 시간이 생기면 안됨>
                       (비쥬얼) 벽에 총알 자국
 - 7월 12일 까지 :  로비서버 구현 (1/3) : 클라이언트에 로비서버 화면 구현, 게임 시작시 로비서버에서 부터 시작  (서버에서 클라이언트에 로비서버 상태라고 보내주어야 함)
                                                  접속한 플레이어들은 무조건 한방에 모이고, 게임스타트 버튼을 누르면 게임 시작
                      (클라) 애니메이션 블렌딩 : 이동/공격/사망 
                      (클라) 로비 서버 UI / 로비 서버 관련 패킷 처리 <로비/게임 모드 전환>
 - 7월 19일 까지 :  (서버) 로비서버 구현 (2/3) : 방생성, 방장,  서버에서 여러개의 인던이 실행되도록 구현.
                      (클라) 맵 업데이트 : 맵 확장 (방을 좀더 많이)
 - 7월 26일 까지 :  (서버) 로비서버 구현 (3/3) : 방에서 채팅, 방 검색, 방 참여, 방 나가기, 방 뽀개기.. 
                        (서버) 액티브 아이템
                      (클라) 액티브 아이템 : 서버에서 사용했다고 패킷이 날라오면, 애니메이션과 이펙트를 표현한다.
                      (클라) 맵 비주얼 : 벽돌 방이 아닌 다양한 방. (예: 동굴, 벽화가 그려져있는 복도, 등등 심심하지 않게)
 - 8월 2일까지  : (서버) 전투 시스템 : 옆의 몬스터가 공격당했을 때 같이 공격하기, 시야내 플레이어를 공격, 몬스터 별 다른 공격 스킬 사용(visual도 같이 구현해야 함), 총알 장전
                                       무기 교체, 무기별 공격력/쿨타임/탄수/탄창수, 로켓탄 (범위공격)
                     (서버) 동접 테스트용 테스트 클라이언트 작성
 - 8월 9일 까지  : (서버) 맵 기믹 구현 : 문 열고 닫기, 레버
                     (서버) 동접 테스트 : 목표 동접 400 (100개의 인던을 돌려야 한다.)
                     (서버) DB 연동 : 전적 보관 (몇 승 몇 패), 게임 접속시 ID/PASSWD로 로그인 => 게임 클라이언트에 로그인 창 필요.
                      (클라) 서버와 기믹 연동
 - 8월 16일 까지 : 최종 데모 준비 , BUG 수정

3. 로비서버
 - 플레이어마다. 현재 플레이중인지 로비서버에 있는 구분하는 상태 변수를 두고 이 상태 변수에 맞춰서 패킷을 실행
 - 게임 스타트 버튼을 누르면 인던을 생성하고 방에 있는 플레이어들을 인던으로 보낸다.
 - 인던이 종료하면 다시 로비서버로 보낸다.
 - 기능 : 채팅? 메신저? 친구 찾기?
  * 필수 기능 : 방 만들기, 방 검색하기, 방 참여하기, 방 뽀개기(방장), 게임 시작하기(방장), 방 나가기
 - 스트레스 테스트 프로그램의 경우 로비서버를 우회해서 게임을 시작하는 기능을 넣을 필요가 있다.
  * 서버에서 테스트 플레이어가 접속해 올 경우 4명씩 묶어서 임의로 방을 만들어서 보낸다.

4. 목표 동접 400
 - 방마다 서로 독립적으로 실행되므로 굳이 IOCP를 고집할 필요가 없다.
 - Core의 개수 만큼 Worker Thread를 만들고 하나의 방은 하나의 전용쓰레드에 실행하는 것도 좋다.
 - Worker Thread는 자신이 컨트롤하는 방의 리스트가 있고, Overlapped I/O Callback으로 I/O를 처리할 수 있다.
 - 최적화 필요 :  플레이어가 없는 방의 몬스터는 움직이지 않는다.
 - 앞으로 발표할 때는 목표를 동접 400으로 하는 것이 아니라 100개의 방을 한개의 서버에서 컨트롤 한다고 이야기 해야 한다.

5. 서버할일이 너무 많다.
 => 원휘재가 일을 반을 떼어 가도록.

6. 다음 미팅
 => 7월 12일 월요일 2:30분
 

2021-07-12
-------------
1. 진행상황
 - 로비서버 추가 중
 * 클라이언트에 기본적인 UI 구현 : 이름 입력하고 READY버튼을 눌러 게임 시작
 * 서버에서 로비가 분리가 안되서 많은 문제를 가지고 있음
 - 플레이어가 분리가 안된다 : 여러 사용자가 하나의 캐릭터를 조종하는 버그
 - 게임시작시 서버 사망 : 카메라 룩벡터가 0으로 초기화 되어 있기 때문 -> 수정
 - 애니메이션 오류
  * 총이 계속 튄다.
 - 블렌딩 오류
  * 블렌딩을 하면 사람이 거인이 된다.
- IOCP 전환중
 * 너무 오래 걸린다.
 * 오래 걸리면 IOCP전환이 끝날때까지 다른 작업을 멈추는 것이 아니고, 다른 작업을 하면서 전환을 같이 해야 한다.

  - 7월 5일 까지  : (서버)  IOCP 전환, 패시브 아이템 서버 구현 (인벤토리,  아이템효과) 아이템 상자 열기   => X
                       (클라) 애니메이션 버그 수정 (현재 공격 애니메이션이 안보임)                                 => X
                       (클라) 사망시 "YOU DIED"메세지 출력, 부활시까지의 카운터 표시<카운터가 중요한 것이 아니라, 게임이 먹통되서 아무반응도 하지 않는 시간이 생기면 안됨> 
                                                                                                                                   => X
                       (비쥬얼) 벽에 총알 자국                                                                               => O
 - 7월 12일 까지 :  로비서버 구현 (1/3) : 클라이언트에 로비서버 화면 구현, 게임 시작시 로비서버에서 부터 시작  (서버에서 클라이언트에 로비서버 상태라고 보내주어야 함)
                                                  접속한 플레이어들은 무조건 한방에 모이고, 게임스타트 버튼을 누르면 게임 시작  => ㅅ
                      (클라) 애니메이션 블렌딩 : 이동/공격/사망                                                                            => X
                      (클라) 로비 서버 UI / 로비 서버 관련 패킷 처리 <로비/게임 모드 전환>                                         => X

2. 현재 문제
 - 총이 벽에 뭍힌다.
 - 후진과 오른쪽 이동이 안됨
 - 문에 총알자국이 남지 않는 문제
 - 서버 프로그래머의 잠적

3. 다음 미팅
 - 7월 26일 2시 30분
 - 로비 구현
  * IOCP구현 여부와 관계없이 구현되어야 한다.
  
  SeverMgr => 로비서버로 바꾼다.  게임스타트 버튼을 누르면 GameMgr를 생성해서 플레이들을 GameMgr로 보낸다.
   - ServerMgr에 있는 게임관련 기능들을 다 GameMgr로 보낸다.
   - ServerMgr은 로비 관련 패킷들만 처리한다.
  GameMgr는 복수개가 존재하고 전용 쓰레드에서 처리한다.
   - Worker Thread하나가 하나의 GameMgr를 관리하는 것이 아니고, Worker Thread하나가 복수의 GameMgr를 실행한다.
   - GameMgr는 아무 쓰레드에서나 실행가능한 것이 아니고, 반드시 하나의 전용 Worker 쓰레드에서만 실행 된다.

  queue<PLAYER_INFP> from_gamemgr_to_robby;

  class PLAYER_INFO 
  {
    SOCKET so;
    int       id;
    char     name[100];
  } 

  class GameMgr
  {
    private:
      vector <PLAYER> players;
      vector <NPC>     npcs;
   punlic:
     GameMgr(vactor<PLAYER_INFO> players) 
     {
     }
   void Send_Players_to_Robby()
   {
      for (auto &p : players)
         from_gamemgr_to_robby.push(player_to_info(p));
   }
    ~GameMgr() 
    {
       Send_Players_to_Robby(players);
    }
  }

  array<vector<GameMgrClass>, NUMBER_OF_THREAD> GameMgr;      // Thread마다

  WorkerThread()
  {
       for (auto &g : GameMgr[ThreadID]) 
          g.simulate();
  }

  RobbyThread()
  {
      while (false == from_gamemgr_to_robby.empty()) {
         robby_players.emplace_back(from_gamemgr_to_robby.top());
         from_gamemgr_to_robby.pop();
      }
         
       ....
      for (auto &p:player_infos)
          robby_players.erase(p);
      GameMgr[th_id].emplace_back(player_infos);
       ....
  }
  
 - 아이템 서버 구현
 - 애니메이션 블렌딩
 - 맵 업데이트

2021-07-26
------------
1.  최종발표 8월 17일

2. 진행상황
  - 7월 5일 까지  : (서버)  IOCP 전환, 패시브 아이템 서버 구현 (인벤토리,  아이템효과) 아이템 상자 열기   => O
                       (클라) 애니메이션 버그 수정 (현재 공격 애니메이션이 안보임)                                 => O
                       (클라) 사망시 "YOU DIED"메세지 출력, 부활시까지의 카운터 표시<카운터가 중요한 것이 아니라, 게임이 먹통되서 아무반응도 하지 않는 시간이 생기면 안됨> 
                                                                                                                                   => O
                       (비쥬얼) 벽에 총알 자국                                                                               => O
 - 7월 12일 까지 :  로비서버 구현 (1/3) : 클라이언트에 로비서버 화면 구현, 게임 시작시 로비서버에서 부터 시작  (서버에서 클라이언트에 로비서버 상태라고 보내주어야 함)
                                                  접속한 플레이어들은 무조건 한방에 모이고, 게임스타트 버튼을 누르면 게임 시작  => ㅅ
                      (클라) 애니메이션 블렌딩 : 이동/공격/사망                                                                            => O
                      (클라) 로비 서버 UI / 로비 서버 관련 패킷 처리 <로비/게임 모드 전환>                                         => ㅅ

3. 남은 큰일
 - 로비서버
 - 기믹구현 
 * 레버로 몬스터를 용암에 빠뜨리기
 * 총으로 스위치를 맞추면 문이 열리고 닫힌다.
  - 예) 물고기 스위치를 맞추면 1번 문은 열리고 3번 문은 닫힌다.
 * 안개를 사용한 기믹
 - 맵데이트 (단조로운 벽돌벽 탈피, 동굴 배경 추가, 하수도 배경 추가)
 - 무기 추가 (저격총, 로켓포, 샷건), 시작시 선택

4. 각종 버그
 - 플레이어 빙의 현상 (옆의 플레이어까지 조종)
 - 맵의 그림자가 Frustrum Culling때문에 보였다 안보였다 하는 현상.
 - 총알 잔량이 엉뚱한 위치에 보이는 버그

5. 할 수 있을까???
 - DB 연동, 동접 테스트

6. 다음 미팅
 - 8월 9일 월요일 오후 2시 30분

2021-08-09
------------
1. 진행상황
 - 로비 : DB를 붙이지 못함. Merge도 못함.
 - 맵업데이크가 안됨
  * 스케일을 맞추지 못해서 Merge도 못함
 - 무기추가
 - 게임에 버그가 만발하고 있음. 서버 접속오류/이동불가 오류

2. 최종발표
 - 8월 17일...    로비/맵 기믹/무기 추가/NPC 
 - 8월 23일 2시 30분

2021-08-23
-------------
1. 최종발표
 - 통과
 - 체육관 발표

2. 취업준비
 - 원휘재(클라이언트) : 클라이언트쪽으로 취업 준비
  * 포트폴리오 작성 필요 : 컴투스 준비하면서 간단하게 만들어 봄 => 제대로 만들어서 가져오기
 - 주형탁(클라이언트) : 클라이언트쪽으로 취업 준비
  * 제작 필요
 - 진재혁(서버)  : 서버
  * DB 연결을 할 것.

3. 포트폴리오
 - "내가 이런것도 만들줄 안다" 자랑하는 문서
 - 졸작이 메인, 다른 과목 텀프로젝트들도 추가,
 - 작품별로 : 이름, 장르, 스크린샷, 개발인원/기간, 자신의 역할, 어려웠던 점/그 해결방법, 샘플 핵심 소스코드, 게임 동영상링크, 게임 소스코드 링크
   (샘플 포트폴리오 참조)

4. 코딩테스트
 - 꾸준한 연습, 
 - 웹사이트 활용  https://programmers.co.kr/learn/challenges 

5. 다음미팅
 - 9월 6일 월요일 오전 11시 30분
 - 포트폴리오 작성해 오기

2021-09-06
-------------
1. 포트폴리오
 * 원희재 : 스크린샷을 좀더 좋은 것으로
             지정한 내용 수정
             소스코드와 데모동영상 링크 필요
 * 주형탁 : 내용이 부실하다. 그림을 포함해서 내용을 더 채워 올것.
 => 어려웠던 점/그 해결방법

2. 게임회사 공채 일정
 - 9월 6일 4시까지 : 넥슨 컴패니 인턴 채용쉽

3. 코딩테스트 연습 꾸준히

4. 다음미팅
 - 9월 24일 금요일 오전 11시 30분

2021-09-24
--------------
1. 포트폴리오
 - 계속 수정, 자기가 했던것 다 적기 (클라이언트 지망자가 서버 작업 했던 것 적는것을 꺼리지 말것, 오히려 엄청난 장점)

2. 게임회사 공채 일정
 - 네오플 9월 26일까지 (자기소개서 4000자 + 포트폴리오)  <= 지원 하기, 5학년 해야 해도 지원 할 것 (큰 경험)
 - 넥슨 컴퍼니는 아직 결과가 나오지 않음.

3. 취업 활동시 주의할점 : https://www.youtube.com/watch?v=qOqy8wt2sNI

4. 다음미팅
 - 10월 8일 금요일 오전 11시 30분
 
2021-10-08
-------------
1. 원희재, 주형탁 지각

2. 포트폴리오
 - 진재혁 : 가장 최근에 만든것을 맨 앞에 놓을 것 (또는 가장 자신있는 것을 맨 앞에)
 - 주형탁 : 
 - 원희재 : 네오플 서류 합격해서 코딩테스트를 앞두고 있음, (연습 중) => 10월 9일 테스트 => 결과 미정 
              넷마블 네오 월요일까지

3. 취업활동
 - 채용 공고 : 넷마블(https://company.netmarble.com/rem/www/notice.jsp?anno_id=2104875&annotype=new
                  넥슨 : 프로젝트별 신입 수시 채용 중  https://career.nexon.com/common/main
                 엔씨소프트 : https://careers.ncsoft.com/  (오늘 오후 2시까지)
                  컴투스 : https://com2us.recruiter.co.kr/appsite/company/index
         

4. 다음 미팅
 - 10월 22일 금요일 오전 11:30
 - 취업결정되면 오지 않아도 됨.

2021-10-29
------------
0. 진재혁 : 연락 없음

1. 취업활동
 - 원휘재 : 네오플 코딩테스트 통과, 11월 4일 면접 (전공 면접)
              넷마블 네오 코딩테스트 통가, 10월 31일 필기 테스트 (전공 시험)
              컴투스 예비과정 통과, 최종 과정 예정 (12월 시작)

 - 주형탁 : 11월 31일까지 스마일게이트 신입 응모 예정 (언리얼)
              스마일게이트 인재풀 등록 예정.
 
2. 포트폴리오
 - 주형탁 : 문서 포맷을 좀 이쁘게 수정 필요 (너무 힘을 줄 필요는 없음)

3. 다음 미팅
 - 11월 12일 오전 11시 30분
 
2021-11-26
------------
1. 취업활동
 - 원휘재 : 네오플 탈락, 넷마블 필기 탈락, 컴투스 진행 중 (마지막 과제 진행 중 12월 30일), 펄어비스 필기시험 11월 28일
   * 넷마블 : HTTP 버전별 특징, A*, SQL Query, Graphics Pipeline, Minimal Spanning Tree, Agile 4대가치, 벡터 외적 내적, 애사심 문제 
   * 네오플 : C++관련, 
 - 주형탁 : 11월 31일까지 스마일게이트 신입 응모 예정 
 - 진재혁 : 컴투스 신입 필기 탈락, 28일 펄어비스 필기, 위메이드 지원, 쉬프트업(데스티니차일드), 신작게임 개발 지원
   * 컴투스 필기 : GoLang, PHP 코딩, 행렬곱, 디자인패턴, SQL, 

2. 최종보고서 확인

3. 다음 미팅
 - 12월 10일 금요일 오전 11시 30분

2021-12-10
-------------
1. 취업활동
 - 주형탁 : 스마일게이트 원서 넣었고 결과 기다리고 있음
          수시모집 응모예정, 넷게임즈,  넥슨 프로젝트 HP, 시프트업 
           언리얼 경험을 요구하는 곳이 많아서 언리얼 프로젝트를 하나 포트폴리오에 넣을 예정.
 - 원희재 : 컴투스 진행중,  펄어버스 면접 예정

2. 취업하면 연락해주기.



2. 